{% extends 'base.html' %}

{% block title %}Dashboard{% endblock %}

{% block content %}
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>Your Projects</h2>
        <a href="{{ url_for('new_project') }}" class="btn btn-success">New Project</a>
    </div>

    {% if projects %} 
        <div class="row">
            {% for project in projects %}
                <div class="col-md-6 col-lg-4 mb-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title">{{ project.name }}</h5>
                            <p class="card-text">{{ project.description or 'No description' }}</p>
                        </div>
                        <div class="card-footer">
                            <a href="{{ url_for('view_project', project_id=project.id) }}" class="btn btn-primary btn-sm">View</a>
                            <a href="{{ url_for('edit_project', project_id=project.id) }}" class="btn btn-outline-secondary btn-sm">Edit</a>
                            <form method="POST" action="{{ url_for('delete_project', project_id=project.id) }}" class="d-inline" 
                                onsubmit="return confirm('Are you sure you want to delete this project and all its tasks?')">
                                <button type="submit" class="btn btn-outline-danger btn-sm">Delete</button>
                            </form>
                        </div>
                    </div>
                </div> 
            {% endfor %}
        </div>
    {% endif %}
{% endblock %}